import { createBaseHandler } from "../handler";
/**
 *
 * Read more: https://docs.solidjs.com/solid-start/reference/server/create-handler
 */
export function createHandler(fn, options) {
    return createBaseHandler(fn, createPageEvent, options);
}
export async function createPageEvent(ctx) {
    const clientManifest = import.meta.env.MANIFEST["client"];
    const pageEvent = Object.assign(ctx, {
        manifest: await clientManifest.json(),
        assets: [...(await clientManifest.inputs[clientManifest.handler].assets())],
        routes: [],
        complete: false,
        // prevUrl: "",
        // mutation: false,
        // $type: FETCH_EVENT,
        $islands: new Set()
    });
    return pageEvent;
}
